<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>N Clock - test</title>
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;margin:30px;background:#fff;color:#000}
    .time{font-size:48px;font-weight:700;text-align:center;margin-top:40px}
    .hint{color:#666;font-size:14px;text-align:center;margin-top:10px}
    /* Eruda button positioning if present */
    .eruda-toggle{position:fixed;right:8px;bottom:8px;z-index:9999}
  </style>
</head>
<body>
  <h2 style="text-align:center">N Clock — 動作確認</h2>
  <div id="display" class="time">--:--:--</div>
  <div class="hint">このページが動けば、あなたの環境で時計は動きます。</div>

  <!-- Eruda（スマホでコンソールを見るときだけ有効） -->
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>eruda.init();</script>

  <script>
    // sanity checks
    console.log('test script running');

    const display = document.getElementById('display');
    if(!display){
      console.error('Display element not found (id="display")');
    }

    function updateClock(){
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,'0');
      const mm = String(now.getMinutes()).padStart(2,'0');
      const ss = String(now.getSeconds()).padStart(2,'0');
      display.textContent = `${hh}:${mm}:${ss}`;
      // debug: also print to console every 5 seconds so you can see it's running
      if(now.getSeconds() % 5 === 0) console.log('clock tick', hh+':'+mm+':'+ss);
    }

    // start
    updateClock();
    const timerId = setInterval(updateClock, 1000);
    // safety: if any error occurs, it will still not block the interval
    window._nclock_test_timer = timerId;
  </script>
</body>
</html>
